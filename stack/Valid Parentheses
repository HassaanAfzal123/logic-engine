class Solution {
public:
    bool isValid(string s) {
        stack<char> a;

        for (char p : s) {
            if (p == '(' || p == '{' || p == '[') {
                a.push(p);
            } else {
                if (a.empty()) return false;

                if (p == ')' && a.top() != '(') return false;
                if (p == '}' && a.top() != '{') return false;
                if (p == ']' && a.top() != '[') return false;

                a.pop();
            }
        }

        return a.empty();
    }
};
